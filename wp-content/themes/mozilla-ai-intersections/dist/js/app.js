(()=>{(function(a){a(document).ready(function(){a("#colophon .wFormContainer .primaryAction").prop("disabled",!1)}),a(document).keydown(function(e){if(e.key==="Enter"){var o=a("#search-submit");document.activeElement.id==="search"&&(e.preventDefault(),o.click())}}),a(document).on("click","#mobile-trigger",function(){var e=a("#masthead");e.toggleClass("menu-open")}),a(document).on("submit","#database-search",function(e){e.preventDefault(),a("body").hasClass("home")?window.location="/ai-intersections-database/?search="+encodeURIComponent(a(this).find("#search").val()):c(a(this))}),a(document).on("change",".filter-input input",function(){c(a(this))}),a(document).on("click",".clear-all",function(){a(this).hasClass("main")?(a(".filter-input input:checked").prop("checked",!1).trigger("change"),a('input[id*="filter"]:checked').prop("checked",!1).trigger("change")):a(this).parent().find("input").prop("checked",!1).trigger("change")}),a(document).on("click",".share.link",function(e){e.preventDefault(),a(this).addClass("copied"),navigator.clipboard.writeText(window.location.href)}),a(document).on("focus",".gform_wrapper input, .gform_wrapper textarea",function(){a(this).closest(".gfield").removeClass("gfield_error"),a(this).closest(".gfield").find(".validation_message").fadeOut(1)}),a(document).on("change","#sort-records",function(){c(a(this))}),a(document).on("click","#load-more-records",function(e){e.preventDefault(),c(a(this))}),a(document).on("click","#definitions-toggle",function(){var e=a(".definition input"),o="",r=a(this).find("span");a(this).toggleClass("expanded"),a(this).hasClass("expanded")?(e.prop("checked",!0).trigger("change"),o="collapse"):(e.prop("checked",!1).trigger("change"),o="expand"),r.text(o)}),a(document).on("focus",".wFormContainer .hide-toggle",function(){a(this).parent().find(".hide").removeClass("hide")});function c(e){var o=parseInt(a(".records .async__inner").attr("data-current")),r=e.next().text(),t=e.parent().parent(),d="",v,u="",y,p="",k,h="",C,f="",I,m="",M,g="",B="",b="",A=R("search"),S="",s="";if(e.attr("id")!=="database-search"&&e.attr("id")!=="sort-records"&&e.attr("id")!=="load-more-records"&&a("#search").val(""),(r==="Select All"||r==="Global")&&(e.prop("checked")===!0?e.parent().parent().find("input").prop("checked",!0):e.parent().parent().find("input").prop("checked",!1)),e.attr("id").indexOf("service_area")!==-1){if(r==="Global North"){var i=["Anguilla","Tuvalu","Palau","Kazakhstan","Kyrgyzstan","Uzbekistan","Japan","Korea, Republic of","Armenia","Azerbaijan","Cyprus","Georgia","Israel","Turkey","Belarus","Bulgaria","Czech Republic","Hungary","Moldova, Republic of","Poland","Romania","Russian Federation","Slovakia","Ukraine","Austria","Belgium","France","Germany","Liechtenstein","Luxembourg","Monaco","Netherlands","Switzerland","\xC5land Islands","Denmark","Estonia","Faroe Islands","Finland","Iceland","Ireland","Isle of Man","Latvia","Lithuania","Norway","Svalbard and Jan Mayen","Sweden","United Kingdom","Albania","Andorra","Croatia","Gibraltar","Greece","Holy See (Vatican City State)","Italy","Macedonia, the Former Yugoslav Republic of","Malta","Montenegro","Portugal","San Marino","Serbia","Slovenia","Spain","Bermuda","Canada","Greenland","Saint Pierre and Miquelon","United States","Australia","Christmas Island","Cocos (Keeling) Islands","Heard Island and McDonald Islands","New Zealand","Norfolk Island","Guernsey","Jersey"];e.prop("checked")===!0?i.forEach(function(l){t.find('label:contains("'+l+'")').prev().prop("checked",!0)}):i.forEach(function(l){t.find('label:contains("'+l+'")').prev().prop("checked",!1)})}else if(r==="Global South"){var i=["Antigua and Barbuda","Aruba","Bahamas","Barbados","Cayman Islands","Cuba","Cura\xE7ao","Dominica","Dominican Republic","Grenada","Guadeloupe","Haiti","Jamaica","Martinique","Montserrat","Puerto Rico","Saint Barth\xE9lemy","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Vincent and the Grenadines","Sint Maarten (Dutch part)","Trinidad and Tobago","Turks and Caicos Islands","Virgin Islands, British","Virgin Islands, U.S.","Fiji","New Caledonia","Papua New Guinea","Solomon Islands","Vanuatu","American Samoa","Cook Islands","French Polynesia","Niue","Pitcairn","Samoa","Tokelau","Tonga","Wallis and Futuna","Guam","Kiribati","Marshall Islands","Micronesia, Federated States of","Nauru","Northern Mariana Islands","United States Minor Outlying Islands","Antarctica","Kosovo","Tajikistan","Turkmenistan","China","Hong Kong","Korea, Democratic People's Republic of","Macao","Mongolia","Taiwan, Province of China","Bahrain","Iraq","Jordan","Kuwait","Lebanon","Oman","Palestine, State of","Qatar","Saudi Arabia","Syrian Arab Republic","United Arab Emirates","Yemen","Afghanistan","Bangladesh","Bhutan","India","Iran, Islamic Republic of","Maldives","Nepal","Pakistan","Sri Lanka","Thailand","Algeria","Egypt","Libya","Morocco","Sudan","Tunisia","Western Sahara","Bosnia and Herzegovina","Brunei Darussalam","Cambodia","Indonesia","Lao People's Democratic Republic","Malaysia","Myanmar","Philippines","Timor-Leste","Viet Nam","Singapore","Swaziland","Bonaire, Sint Eustatius and Saba","Angola","Cameroon","Central African Republic","Chad","Congo","Congo, the Democratic Republic of the","Equatorial Guinea","Gabon","Sao Tome and Principe","Argentina","Bolivia, Plurinational State of","Bouvet Island","Brazil","Chile","Colombia","Ecuador","Falkland Islands (Malvinas)","French Guiana","Guyana","Paraguay","Peru","South Georgia and the South Sandwich Islands","Suriname","Uruguay","Venezuela, Bolivarian Republic of","British Indian Ocean Territory","Burundi","Comoros","Djibouti","Eritrea","Ethiopia","French Southern Territories","Kenya","Madagascar","Malawi","Mauritius","Mayotte","Mozambique","R\xE9union","Rwanda","Seychelles","Somalia","South Sudan","Tanzania, United Republic of","Uganda","Zambia","Zimbabwe","Benin","Burkina Faso","Cape Verde","C\xF4te d'Ivoire","Gambia","Ghana","Guinea","Guinea-Bissau","Liberia","Mali","Mauritania","Niger","Nigeria","Saint Helena, Ascension and Tristan da Cunha","Senegal","Sierra Leone","Togo","Belize","Costa Rica","El Salvador","Guatemala","Honduras","Mexico","Nicaragua","Panama","Botswana","Lesotho","Namibia","South Africa"];e.prop("checked")===!0?i.forEach(function(n){t.find('label:contains("'+n+'")').prev().prop("checked",!0)}):i.forEach(function(n){t.find('label:contains("'+n+'")').prev().prop("checked",!1)})}else if(r==="Africa"){var i=["Algeria","Egypt","Libya","Morocco","Sudan","Tunisia","Western Sahara","Singapore","Swaziland","Angola","Cameroon","Central African Republic","Chad","Congo","Congo, the Democratic Republic of the","Equatorial Guinea","Gabon","Sao Tome and Principe","British Indian Ocean Territory","Burundi","Comoros","Djibouti","Eritrea","Ethiopia","French Southern Territories","Kenya","Madagascar","Malawi","Mauritius","Mayotte","Mozambique","R\xE9union","Rwanda","Seychelles","Somalia","South Sudan","Tanzania, United Republic of","Uganda","Zambia","Zimbabwe","Benin","Burkina Faso","Cape Verde","C\xF4te d'Ivoire","Gambia","Ghana","Guinea","Guinea-Bissau","Liberia","Mali","Mauritania","Niger","Nigeria","Saint Helena, Ascension and Tristan da Cunha","Senegal","Sierra Leone","Togo","Botswana","Lesotho","Namibia","South Africa"];e.prop("checked")===!0?i.forEach(function(n){t.find('label:contains("'+n+'")').prev().prop("checked",!0)}):i.forEach(function(n){t.find('label:contains("'+n+'")').prev().prop("checked",!1)})}else if(r==="Americas"){var i=["Anguilla","Antigua and Barbuda","Aruba","Bahamas","Barbados","Cayman Islands","Cuba","Cura\xE7ao","Dominica","Dominican Republic","Grenada","Guadeloupe","Haiti","Jamaica","Martinique","Montserrat","Puerto Rico","Saint Barth\xE9lemy","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Vincent and the Grenadines","Sint Maarten (Dutch part)","Trinidad and Tobago","Turks and Caicos Islands","Virgin Islands, British","Virgin Islands, U.S.","Bermuda","Canada","Greenland","Saint Pierre and Miquelon","United States","Bonaire, Sint Eustatius and Saba","Argentina","Bolivia, Plurinational State of","Bouvet Island","Brazil","Chile","Colombia","Ecuador","Falkland Islands (Malvinas)","French Guiana","Guyana","Paraguay","Peru","South Georgia and the South Sandwich Islands","Suriname","Uruguay","Venezuela, Bolivarian Republic of","Belize","Costa Rica","El Salvador","Guatemala","Honduras","Mexico","Nicaragua","Panama"];e.prop("checked")===!0?i.forEach(function(n){t.find('label:contains("'+n+'")').prev().prop("checked",!0)}):i.forEach(function(n){t.find('label:contains("'+n+'")').prev().prop("checked",!1)})}else if(r==="Asia"){var i=["Kazakhstan","Kyrgyzstan","Tajikistan","Turkmenistan","Uzbekistan","China","Hong Kong","Japan","Korea, Democratic People's Republic of","Korea, Republic of","Macao","Mongolia","Taiwan, Province of China","Armenia","Azerbaijan","Bahrain","Cyprus","Georgia","Iraq","Israel","Jordan","Kuwait","Lebanon","Oman","Palestine, State of","Qatar","Saudi Arabia","Syrian Arab Republic","Turkey","United Arab Emirates","Yemen","Afghanistan","Bangladesh","Bhutan","India","Iran, Islamic Republic of","Maldives","Nepal","Pakistan","Sri Lanka","Thailand","Brunei Darussalam","Cambodia","Indonesia","Lao People's Democratic Republic","Malaysia","Myanmar","Philippines","Timor-Leste","Viet Nam"];e.prop("checked")===!0?i.forEach(function(n){t.find('label:contains("'+n+'")').prev().prop("checked",!0)}):i.forEach(function(n){t.find('label:contains("'+n+'")').prev().prop("checked",!1)})}else if(r==="Europe"){var i=["Belarus","Bulgaria","Czech Republic","Hungary","Moldova, Republic of","Poland","Romania","Russian Federation","Slovakia","Ukraine","Austria","Belgium","France","Germany","Liechtenstein","Luxembourg","Monaco","Netherlands","Switzerland","\xC5land Islands","Denmark","Estonia","Faroe Islands","Finland","Iceland","Ireland","Isle of Man","Latvia","Lithuania","Norway","Svalbard and Jan Mayen","Sweden","United Kingdom","Albania","Andorra","Bosnia and Herzegovina","Croatia","Gibraltar","Greece","Holy See (Vatican City State)","Italy","Macedonia, the Former Yugoslav Republic of","Malta","Montenegro","Portugal","San Marino","Serbia","Slovenia","Spain","Guernsey","Jersey"];e.prop("checked")===!0?i.forEach(function(n){t.find('label:contains("'+n+'")').prev().prop("checked",!0)}):i.forEach(function(n){t.find('label:contains("'+n+'")').prev().prop("checked",!1)})}else if(r==="Oceania"){var i=["Fiji","New Caledonia","Papua New Guinea","Solomon Islands","Vanuatu","American Samoa","Cook Islands","French Polynesia","Niue","Pitcairn","Samoa","Tokelau","Tonga","Tuvalu","Wallis and Futuna","Guam","Kiribati","Marshall Islands","Micronesia, Federated States of","Nauru","Northern Mariana Islands","Palau","United States Minor Outlying Islands","Australia","Christmas Island","Cocos (Keeling) Islands","Heard Island and McDonald Islands","New Zealand","Norfolk Island"];e.prop("checked")===!0?i.forEach(function(n){t.find('label:contains("'+n+'")').prev().prop("checked",!0)}):i.forEach(function(n){t.find('label:contains("'+n+'")').prev().prop("checked",!1)})}}e.attr("id")==="load-more-records"?o=o+8:o=8,v=a('.filter-input input[id*="main_type"]:checked').map(function(){return this.value}).get(),u=v.join(","),y=a('.filter-input input[id*="actor_type"]:checked').map(function(){return this.value}).get(),p=y.join(","),k=a('.filter-input input[id*="justice_area"]:checked').map(function(){return this.value}).get(),h=k.join(","),C=a('.filter-input input[id*="ai_impact"]:checked').map(function(){return this.value}).get(),f=C.join(","),I=a('.filter-input input[id*="service_area"]:checked').map(function(){return this.value}).get(),m=I.join(","),M=a('.filter-input input[id*="region"]:checked').map(function(){return this.value}).get(),g=M.join(","),B=a('.filter-input input[id*="year"]:checked').map(function(){return this.value}).get(),b=B.join(","),e.attr("id")==="sort-records"?S=e.val():S=a("#database-results #sort-records").val(),s="?records="+o+"&sort="+S,u!==""&&(s+="&type="+encodeURIComponent(u)),p!==""&&(s+="&actor_type="+encodeURIComponent(p)),h!==""&&(s+="&justice_area="+encodeURIComponent(h)),f!==""&&(s+="&ai_impact="+encodeURIComponent(f)),m!==""&&(s+="&service_area="+encodeURIComponent(m)),g!==""&&(s+="&region="+encodeURIComponent(g)),b!==""&&(s+="&service_year="+encodeURIComponent(b)),e.attr("id")==="database-search"?s+="&search="+encodeURIComponent(e.find("#search").val()):A&&(e.attr("id")==="sort-records"||e.attr("id")==="load-more-records")&&(s+="&search="+encodeURIComponent(A)),a(".filter-input input").each(function(){if(a(this).attr("id").indexOf("all")===-1)if(a(this).prop("checked")===!0){var l=a(this).next().text(),n=a(this).attr("id");l==="type"&&(l="main-type"),d===""&&(d='<div class="filters__inner">'),d+='<label for="'+n+'" class="filters__inner__filter">'+l+"</label>"}else a(this).parent().parent().find('input[id*="all"]').prop("checked",!1)}).promise().done(function(){a(".filters").html(d+"</div>")}).promise().done(function(){a("#records").addClass("loading"),a("#records").load("/ai-intersections-database/"+s+" .async",function(){var l=window.location.protocol+"//"+window.location.host+window.location.pathname+s;window.history.pushState({path:l},"",l),a(".records .async__inner").attr("data-current",o),a("#records").removeClass("loading")})})}function R(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=o.exec(location.search);return r===null?null:decodeURIComponent(r[1].replace(/\+/g," "))}})(jQuery);})();
